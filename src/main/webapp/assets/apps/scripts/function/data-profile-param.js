+function(d){var b=function(f,e){this.$element=d(f);this.options=d.extend({},b.DEFAULTS,e);this.init()};b.VERSION="1.0.0";b.DEFAULTS={};b.prototype.init=function(){var m=d(this.$element);var n=this.options;var l=d("#btn-profile-param");if(l.size()==0){l=d('<button type="button" data-close-others="true" class="btn " id="btn-profile-param" title="点击收藏记忆当前表单元素数据"><i class="fa fa-heart-o"></i></button>');l.appendTo(d("body"));d(document).on("mousedown",function(o){if(!(l.is(o.target)||l.find(o.target).length)){l.hide()}})}l.hide();var f=m.attr("data-profile-param");var j=m.closest(".controls");var g="data-profile-param-done"+f;if(j.attr(g)){return}j.attr(g,true);var e=m.closest("form").find("input[name='id']").val();var i=m.val();if(e.length==0&&(i==undefined||i=="")){var h=AdminGlobal.findUserProfileParams(f);if(h){if(m.is('[type="radio"]')){j.find('[type="radio"][value="'+h+'"]').attr("checked",true)}else{m.val(h);if(m.is("select")){m.select2()}}}}var k=d('<span class="glyphicon glyphicon-tag tooltipster" title="点击显示数据收藏操作按钮"></span>');k.appendTo(m.closest(".form-group").children(".control-label"));k.on("click",function(){l.show();l.position({my:"right center",at:"left center",of:j});l.off();l.click(function(){var p=[];var o={};j.find("[data-profile-param]").each(function(){var s;var r=d(this);if(r.is('[type="radio"]')){s=j.find(":checked").val()}else{s=r.val()}var q=r.attr("data-profile-param");p.push(q);o[q]=s});o.codes=p.join(",");l.ajaxPostURL({url:WEB_ROOT+"/admin/sys/user-profile-data/edit",success:function(){d.each(p,function(q,r){AdminGlobal.setUserProfileParams(r,o[r])});l.hide()},confirmMsg:false,data:o})})}).tooltipster({contentAsHTML:true,offsetY:15,theme:"tooltipster-punk"})};function c(e){return this.each(function(){var h=d(this);var g=h.data("extDataProfileParam");var f=typeof e=="object"&&e;if(!g){h.data("extDataProfileParam",(g=new b(this,f)))}if(typeof e=="string"){g[e]()}})}var a=d.fn.extDataProfileParam;d.fn.extDataProfileParam=c;d.fn.extDataProfileParam.Constructor=b;d.fn.extDataProfileParam.noConflict=function(){d.fn.extDataProfileParam=a;return this};Global.addComponent({plugin:c,expr:"input[data-profile-param],radio[data-profile-param],select[data-profile-param]"})}(jQuery);
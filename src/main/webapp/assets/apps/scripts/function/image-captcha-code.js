+function(c){var d=function(f,e){this.$element=c(f);this.options=c.extend({},d.DEFAULTS,e);this.init()};d.VERSION="1.0.0";d.DEFAULTS={};d.prototype.init=function(){var h=this;var e=c(this.$element);var f=this.options;e.attr("autocomplete","off");e.wrap('<div class="input-group"></div>');var g=c('<img alt="验证码" class="captcha-img" title="看不清？点击刷新"/>');g.attr("src",WEB_ROOT+"/assets/apps/img/captcha_placeholder.jpg");e.after(c('<span class="input-group-btn" style="cursor: pointer;"></span>').append(g));this.$captchaImage=g;g.on("click",function(){h.refresh()});e.on("focus",function(){if(g.attr("src")==WEB_ROOT+"/assets/apps/img/captcha_placeholder.jpg"){h.refresh()}})};d.prototype.refresh=function(){var e=this;e.$captchaImage.attr("src",WEB_ROOT+"/pub/jcaptcha.servlet?_="+new Date().getTime());e.$element.focus();e.$element.val("")};function b(e){return this.each(function(){var h=c(this);var g=h.data("ExtImageCaptchaCode");var f=typeof e=="object"&&e;if(!g){h.data("ExtImageCaptchaCode",(g=new d(this,f)))}if(typeof e=="string"){g[e]()}})}var a=c.fn.extImageCaptchaCode;c.fn.extImageCaptchaCode=b;c.fn.extImageCaptchaCode.noConflict=function(){c.fn.extImageCaptchaCode=a;return this};Global.addComponent({plugin:b,runPoint:Global.Component_Run_Point.BeforeAjaxPageShow,expr:'input[data-toggle="captcha-code"]'})}(jQuery);
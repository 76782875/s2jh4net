+function(a){a(document).ready(function(){var b=function(){var c=a("table.table-infinite-scroll");if(c.size()>0&&a(window).scrollTop()+a(window).height()+20>=a(document).height()){c.each(function(){var f=a(this);var h=f.attr("data-scroll-loading");if(h){return}f.attr("data-scroll-loading",true);var d=f.children("tbody");var g=f.attr("data-scroll-page");if(g){if(g=="-1"){return}g=Number(g)+1}else{if(d.is(":empty")){g=1}else{g=2}}f.attr("data-scroll-page",g);var e=d.attr("data-url");e=Util.addOrReplaceUrlParameter(e,"page",g);App.blockUI({target:d,animate:true,overlayColor:"none"});a.ajax({type:"GET",cache:false,url:e,dataType:"html",headers:{decorator:"body"},success:function(i){if(a.trim(i)==""){f.attr("data-scroll-page","-1")}d.append(i);Global.runComponents(Global.Component_Run_Point.BeforeAjaxPageShow,d);Global.runComponents(Global.Component_Run_Point.AfterAjaxPageShow,d);App.unblockUI(d);f.removeAttr("data-scroll-loading")},error:function(i){Global.notify("warn","页面内容加载失败:"+i.responseText);App.unblockUI(d)},statusCode:{403:function(){Global.notify("error","URL: "+e,"未授权访问")},404:function(){Global.notify("error","页面未找到："+e+"，请联系管理员","请求资源未找到")}}})})}};if(window.addEventListener){window.addEventListener("DOMMouseScroll",b,false);window.addEventListener("mousewheel",b,false)}else{document.attachEvent("onmousewheel",b)}a(window).on("scroll",function(c){b()})})}(jQuery);
+function(c){var d=function(f,e){this.$element=c(f);this.options=c.extend({},d.DEFAULTS,e);this.init()};d.NAME="ExtDropdownTree";d.VERSION="1.0.0";d.DEFAULTS={};d.prototype.init=function(){var l=this.$element;var m=this.options;l.addClass("select2-ignore");console.log(m.url);m=c.extend({minimumInputLength:0,ajax:{url:Util.smartParseURL(m.url),dataType:"json",data:function(o){var n={rows:m.rows||10,page:o.page||1};n[m.parent]=o.term;return n},processResults:function(n,o){return{results:[n]}}},templateResult:function(r,n){if(r.loading){return r.text}var p=c('<ul class="ztree"></ul>');var q="ztree_"+App.getUniqueID("dropdown-tree");p.attr("id",q);p.attr("id-for",q);var o=c.fn.zTree.init(p,{callback:{onClick:function(s,u,t){k.dropdown("toggle")}}},r.content);return p}},m);var h=l.select2(m);return;l.wrap('<div class="btn-group" style="width:100%;"></div>');var k=l;var f="";if(l.is("select")){l.addClass("select2-ignore");k=c('<input type="text" class="form-control"/>');k.insertAfter(l)}k.addClass("dropdown-toggle");k.attr("data-toggle","dropdown");var j=c('<div class="dropdown-menu dropdown-content hold-on-click" role="menu" style="min-height: 50px"></div>');j.insertAfter(k);var g=c('<ul class="ztree"></ul>').appendTo(j);var i="ztree_"+App.getUniqueID("dropdown-tree");g.attr("id",i);g.attr("id-for",i);g.attr("data-url",m.url);var e=j.parent();e.on("show.bs.dropdown",function(n){j.css("width",k.outerWidth()+"px");if(g.is(":empty")){g.ajaxJsonUrl(m.url,function(u){var o=function(w){console.log(w);c.each(w,function(y,z){console.log(z);var x=Pinyin.getCamelChars(z.name)+"";z.pinyin=x;z.search=z.name+x;if(z.children){o(z.children)}})};o(u.content);var r=c.fn.zTree.init(g,{callback:{onClick:function(w,y,x){k.dropdown("toggle")}}},u.content);r.cancelSelectedNode();var v=l.val();if(l.is("select")){v=l.find(" > option[selected]").val()}v=c.trim(v);if(v!=""){var q=r.getNodesByParamFuzzy("name",v);for(var s=0,p=q.length;s<p;s++){var t=q[s];r.selectNode(t)}}g.show()})}})};function b(f){var e=arguments;return this.each(function(){var j=c(this);var i=j.data("ExtDropdownTree");var h=h||j.data();var g=typeof h=="object"&&h;if(!i){j.data("ExtDropdownTree",(i=new d(this,g)))}if(typeof h=="string"){i[h].apply(i,c.makeArray(e).slice(1))}})}var a=c.fn.extDropdownTree;c.fn.extDropdownTree=b;c.fn.extDropdownTree.Constructor=d;c.fn.extDropdownTree.noConflict=function(){c.fn.extDropdownTree=a;return this};Global.addComponent({name:"ExtDropdownTree",plugin:b,runPoint:Global.Component_Run_Point.AfterAjaxPageShow,expr:'select[data-toggle="dropdown-tree"],input[data-toggle="dropdown-tree"]',order:900})}(jQuery);